(this["webpackJsonpreact-appis"]=this["webpackJsonpreact-appis"]||[]).push([[0],{12:function(t){t.exports=JSON.parse('[{"aihe":"Historia","kysymykset":[{"tapaus":"Ket\xe4 kutsuttiin sek\xe4 Karpaattien neroksi ett\xe4 Ajatusten Tonavaksi?","vastaukset":[{"teksti":"Mikhail Gorbatsov","vastattu":false},{"teksti":"Gheorghe Hagi","vastattu":false},{"teksti":"Enver Hoxha","vastattu":false},{"teksti":"Nicolae Ceausescu","vastattu":false}]},{"tapaus":"Kenen tekem\xe4 on J. L. Runebergin muistomerkki Helsingin Esplanadin puistossa?","vastaukset":[{"teksti":"W\xe4in\xf6 Aaltosen","vastattu":false},{"teksti":"Laila Pullisen","vastattu":false},{"teksti":"Walter Runebergin","vastattu":false},{"teksti":"Tyko Sallisen","vastattu":false}]}]},{"aihe":"Maantieto","kysymykset":[{"tapaus":"Mik\xe4 oli nykyisen Pirkkalan kunnan nimi vuosina 1922-1938?","vastaukset":[{"teksti":"Akaa","vastattu":false},{"teksti":"Sakkola","vastattu":false},{"teksti":"Etel\xe4-Pirkkala","vastattu":false},{"teksti":"Nicolae Ceausescu","vastattu":false}]}]},{"aihe":"Urheilu","kysymykset":[{"tapaus":"Miss\xe4 pidettiin vuoden 1920 kes\xe4olympialaiset?","vastaukset":[{"teksti":"Antwerpeniss\xe4","vastattu":false},{"teksti":"Melbournessa","vastattu":false},{"teksti":"Pariisissa","vastattu":false},{"teksti":"Tokiossa","vastattu":false}]}]},{"aihe":"Teollisuus","kysymykset":[{"tapaus":"Mik\xe4 on maailman suurin ter\xe4ksenvalmistajayritys?","vastaukset":[{"teksti":"China Bowu Steel Group","vastattu":false},{"teksti":"ThyssenKrupp","vastattu":false},{"teksti":"U.S. Steel Corporation","vastattu":false},{"teksti":"ArcelorMittal","vastattu":false}]}]},{"aihe":"Sarjakuvat","kysymykset":[{"tapaus":"Mik\xe4 oli sarjakuvataiteilija Herg\xe9n oikea nimi?","vastaukset":[{"teksti":"Maurice de Bevere","vastattu":false},{"teksti":"Georges Prosper Remi","vastattu":false},{"teksti":"Richard Arthur Allan Browne","vastattu":false},{"teksti":"Jean Giraud","vastattu":false}]}]},{"aihe":"Musiikki","kysymykset":[{"tapaus":"Mink\xe4 ruotsalaisyhtyeen hittisingle vuonna 2002 oli Living In America?","vastaukset":[{"teksti":"The Ark","vastattu":false},{"teksti":"ABBA","vastattu":false},{"teksti":"The Soundtrack of Our Lives","vastattu":false},{"teksti":"The Sounds","vastattu":false}]}]}]')},14:function(t,e,a){},28:function(t,e,a){},57:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),i=a(23),c=a.n(i),u=(a(28),a(2)),r=(a(14),a(11)),o=a.n(r),l=a(0);var d=function(){var t=Object(n.useState)(["Matti","Pekka","Heikki","Marja","Atte","Rauno","Sofia"]),e=Object(u.a)(t,2),a=e[0],s=e[1],i=Object(n.useState)(["Harri","Veikko","Jorma","Sirpa","Aleksi","Sanna","Sini"]),c=Object(u.a)(i,2),r=c[0],d=c[1],j=Object(n.useState)({lista:"",numero:0,nimi:"Valitse nimi"}),k=Object(u.a)(j,2),y=k[0],v=k[1],h=Object(n.useState)(""),b=Object(u.a)(h,2),f=b[0],x=b[1],p=Object(n.useState)(!1),O=Object(u.a)(p,2),m=O[0],S=O[1],g=function(t,e,a){v({lista:t,numero:e,nimi:a})},I=function(t,e){if("o"===t&&"1"===e.lista){var n=a.filter((function(t){return t!==e.nimi})),i=r;return i.push(e.nimi),s(n),d(i),void S(!m)}if("v"===t&&"2"===e.lista){var c=r.filter((function(t){return t!==e.nimi})),u=a;return u.push(e.nimi),s(u),d(c),void S(!m)}if("v"===t&&"1"===e.lista){var o=a.filter((function(t){return t!==e.nimi}));return s(o),void S(!m)}if("o"===t&&"2"===e.lista){var l=r.filter((function(t){return t!==e.nimi}));return d(l),void S(!m)}},T=function(t,e,a){if(""!==a){var n=e.filter((function(t){return t.toLowerCase().includes(a.toLowerCase())})).map((function(e,a){return Object(l.jsx)("div",{className:"text",onClick:function(){return g(t,a,e)},children:e},o.a.generate())}));return 0===n.length&&(n="lista on tyhj\xe4"),n}var s=e.map((function(e,a){return Object(l.jsx)("div",{className:"text",onClick:function(){return g(t,a,e)},children:e},o.a.generate())}));return 0===s.length&&(s="lista on tyhj\xe4"),s};return Object(n.useEffect)((function(){v({lista:"",numero:0,nimi:"Valitse nimi"})}),[m]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"game-board",children:[Object(l.jsx)("div",{className:"box",children:T("1",a,f)}),Object(l.jsxs)("div",{className:"box",children:[function(t,e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"text",style:{textAlign:"center"},size:"10",value:y.nimi,readOnly:!0})}),Object(l.jsx)("div",{className:"arrows",onClick:function(){return I("v",y)},children:t}),Object(l.jsx)("div",{className:"arrows",onClick:function(){return I("o",y)},children:e}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(){return function(){var t=a,e=r;t.sort(),e.sort(),s(t),d(e),S(!m)}()},children:"Aakkosta listat"})}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{placeholder:"Etsi nime\xe4...",type:"text",maxLength:"10",size:"10",onChange:function(t){x(t.target.value)},value:f})})]})}("\u27f5","\u27f6")," "]}),Object(l.jsx)("div",{className:"box",children:T("2",r,f)})]})})};var j=function(t){var e=t.vastaus,a=t.dispatch,n=t.kysymysIndex,s=t.vastausIndex,i=t.adminMode;console.log("Vastaus render\xf6itiin");var c=i?"":"ui-input-text";return Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"checkbox",onChange:function(){return a({type:"VASTAUKSEN_TILA_MUUTTUI",data:{kysymysIndex:n,vastausIndex:s}})},checked:e.vastattu}),Object(l.jsx)("input",{type:"text",className:c,readOnly:!i,size:"70",onChange:function(t){return a({type:"VASTAUKSEN_TEKSTI_MUUTTUI",data:{kysymysIndex:n,vastausIndex:s,teksti:t.target.value}})},value:e.teksti}),i&&Object(l.jsx)("span",{children:Object(l.jsx)("button",{onClick:function(){return a({type:"POISTA_VASTAUS",data:{kysymysIndex:n,vastausIndex:s}})},children:"Poista vastaus"})})]})};var k=function(t){var e=t.kysymys,a=t.kysymysIndex,n=t.dispatch,s=t.adminMode;console.log("Kysymys render\xf6itiin");var i=s?"":"ui-input-text";return Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"text",className:i,size:"70",onChange:function(t){return n({type:"KYSYMYKSEN_TAPAUS_MUUTTUI",data:{kysymysIndex:a,tapaus:t.target.value}})},value:e.tapaus,readOnly:!s}),e.vastaukset.map((function(t,e){return Object(l.jsx)("div",{children:Object(l.jsx)(j,{vastaus:t,dispatch:n,kysymysIndex:a,vastausIndex:e,adminMode:s})},e)})),s&&Object(l.jsxs)("span",{children:[Object(l.jsx)("button",{onClick:function(){return n({type:"POISTA_KYSYMYS",data:{kysymysIndex:a}})},children:"Poista kysymys"}),Object(l.jsx)("button",{onClick:function(){return n({type:"LIS\xc4\xc4_VASTAUS",data:{kysymysIndex:a}})},children:"Lis\xe4\xe4 vastaus"})]})]})},y=[{aihe:"Historia",kysymykset:[{tapaus:"Ket\xe4 kutsuttiin sek\xe4 Karpaattien neroksi ett\xe4 Ajatusten Tonavaksi?",vastaukset:[{teksti:"Mikhail Gorbatsov",vastattu:!1},{teksti:"Gheorghe Hagi",vastattu:!1},{teksti:"Enver Hoxha",vastattu:!1},{teksti:"Nicolae Ceausescu",vastattu:!1}],ratkaisut:[{ratkaisuIndex:3}]}]},{aihe:"Maantieto",kysymykset:[{tapaus:"Mik\xe4 oli nykyisen Pirkkalan kunnan nimi vuosina 1922-1938",vastaukset:[{teksti:"Akaa",vastattu:!1},{teksti:"Sakkola",vastattu:!1},{teksti:"Etel\xe4-Pirkkala",vastattu:!1},{teksti:"Lakalaiva",vastattu:!1}],ratkaisut:[{ratkaisuIndex:2}]}]},{aihe:"Urheilu",kysymykset:[{tapaus:"Miss\xe4 pidettiin vuoden 1920 kes\xe4olympialaiset",vastaukset:[{teksti:"Antwerpeniss\xe4",vastattu:!1},{teksti:"Melbournessa",vastattu:!1},{teksti:"Pariisissa",vastattu:!1},{teksti:"Tokiossa",vastattu:!1}],ratkaisut:[{ratkaisuIndex:0}]}]}],v=function(t){var e=t.valinta,a=t.adminMode,s=Object(n.useState)(!1),i=Object(u.a)(s,2),c=i[0],r=i[1],o=Object(n.useState)(),d=Object(u.a)(o,2),j=d[0],v=d[1];console.log("Tentti render\xf6itiin"),Object(n.useEffect)((function(){if(c)localStorage.setItem("tenttiData",JSON.stringify(j));else{var t=localStorage.getItem("tenttiData");null==t?v(y):(console.log(JSON.parse(t)),v(JSON.parse(t))),r(!0)}}),[j,c]);var h=function(t){var a=JSON.parse(JSON.stringify(j));switch(t.type){case"POISTA_VASTAUS":a[e].kysymykset[t.data.kysymysIndex].vastaukset.splice(t.data.vastausIndex,1);break;case"LIS\xc4\xc4_VASTAUS":a[e].kysymykset[t.data.kysymysIndex].vastaukset.push({teksti:"Uusi vastaus, viel\xe4 tyhj\xe4",vastattu:!1});break;case"LIS\xc4\xc4_KYSYMYS":a[e].kysymykset.push({tapaus:"Uusi kysymys, viel\xe4 tyhj\xe4",vastaukset:[]});break;case"POISTA_KYSYMYS":a[e].kysymykset.splice(t.data.kysymysIndex,1);break;case"KYSYMYKSEN_TAPAUS_MUUTTUI":a[e].kysymykset[t.data.kysymysIndex].tapaus=t.data.tapaus;break;case"VASTAUKSEN_TEKSTI_MUUTTUI":a[e].kysymykset[t.data.kysymysIndex].vastaukset[t.data.vastausIndex].teksti=t.data.teksti;break;case"VASTAUKSEN_TILA_MUUTTUI":a[e].kysymykset[t.data.kysymysIndex].vastaukset[t.data.vastausIndex].vastattu=!a[e].kysymykset[t.data.kysymysIndex].vastaukset[t.data.vastausIndex].vastattu;break;default:throw new Error("Nyt on jokin vialla vastauksessa")}v(a)};return Object(l.jsx)("div",{children:!0===c&&Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{style:{fontWeight:"bold"},children:j[e].aihe}),j[e].kysymykset.map((function(t,e){return Object(l.jsxs)("div",{style:{fontWeight:"bold"},children:[Object(l.jsx)("br",{}),Object(l.jsx)(k,{kysymys:t,kysymysIndex:e,dispatch:h,adminMode:a})]},e)})),a&&Object(l.jsx)("span",{children:Object(l.jsx)("button",{onClick:function(){return h({type:"LIS\xc4\xc4_KYSYMYS"})},children:"Lis\xe4\xe4 luokka"})})]})})};var h=function(){var t=Object(n.useState)(0),e=Object(u.a)(t,2),a=e[0],s=e[1],i=Object(n.useState)(!1),c=Object(u.a)(i,2),r=c[0],o=c[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:function(){return s(0)},value:"Historia",children:"Historia"}),Object(l.jsx)("button",{onClick:function(){return s(1)},value:"Maantieto",children:"Maantieto"}),Object(l.jsx)("button",{onClick:function(){return s(2)},value:"Urheilu",children:"Urheilu"}),"\xa0\xa0",Object(l.jsxs)("button",{onClick:function(){return o(!r)},value:"Editointi",children:["Editointi ",Object(l.jsx)("span",{style:{fontWeight:"bold"},children:r?" ON":" OFF"})]}),Object(l.jsx)(v,{valinta:a,adminMode:r})]})},b=a(13);var f=function(t){var e=t.vastaus,a=t.dispatch,s=t.kysymysIndex,i=t.vastausIndex,c=t.adminMode,r=c?"":"ui-input-text",o=Object(n.useState)(e.teksti),d=Object(u.a)(o,2),j=d[0],k=d[1];return Object(n.useEffect)((function(){k(e.teksti)}),[e.teksti]),Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"checkbox",onChange:function(){return a({type:"VASTAUKSEN_TILA_MUUTTUI",data:{kysymysIndex:s,vastausIndex:i}})},checked:e.vastattu}),Object(l.jsx)("input",{type:"text",className:r,readOnly:!c,size:"70",onChange:function(t){k(t.target.value)},onBlur:function(t){return a({type:"VASTAUKSEN_TEKSTI_MUUTTUI",data:{kysymysIndex:s,vastausIndex:i,teksti:t.target.value}})},value:j}),c&&Object(l.jsx)("span",{children:Object(l.jsx)("button",{onClick:function(){return a({type:"POISTA_VASTAUS",data:{kysymysIndex:s,vastausIndex:i}})},children:"Poista vastaus"})})]})};var x=function(t){var e=t.tenttiID,a=(t.tenttiValinta,t.setTentti,t.kysymys),s=t.kysymysIndex,i=t.dispatch,c=t.adminMode,r=c?"":"ui-input-text",o=Object(n.useState)(a.tapaus),d=Object(u.a)(o,2),j=d[0],k=d[1];return Object(n.useEffect)((function(){k(a.tapaus)}),[a.tapaus]),Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"text",className:r,size:"70",onChange:function(t){k(t.target.value)},onBlur:function(t){return i({type:"KYSYMYKSEN_TAPAUS_MUUTTUI",data:{tenttiID:e,kysymysIndex:s,tapaus:t.target.value}})},value:j,readOnly:!c}),a.vastaukset.map((function(t,e){return Object(l.jsx)("div",{children:Object(l.jsx)(f,{vastaus:t,dispatch:i,kysymysIndex:s,vastausIndex:e,adminMode:c})},e)})),c&&Object(l.jsxs)("span",{children:[Object(l.jsx)("button",{onClick:function(){return i({type:"POISTA_KYSYMYS",data:{kysymysIndex:s}})},children:"Poista kysymys"}),Object(l.jsx)("button",{onClick:function(){return i({type:"LIS\xc4\xc4_VASTAUS",data:{kysymysIndex:s}})},children:"Lis\xe4\xe4 vastaus"})]})]})},p=function(t){var e=t.dataService,a=t.tenttiValinta,s=t.setDataNoudettu,i=t.setValittuID,c=t.setValittuIndex,r=t.tenttiIndex,o=t.tenttiID,d=t.tentit,j=t.adminMode,k=Object(n.useState)(a),y=Object(u.a)(k,2),v=y[0],h=y[1],f=Object(n.useState)(r),p=Object(u.a)(f,2),O=p[0],m=p[1],S=j?"":"ui-input-text";Object(n.useEffect)((function(){h(a)}),[a]),Object(n.useEffect)((function(){m(r)}),[r]);var g=function(t){var a=JSON.parse(JSON.stringify(d));switch(t.type){case"POISTA_TENTTI":e.removeExam(t.data.tenttiID).then((function(t){console.log("tentti poistettiin",t),s(!1),i(),c()})).catch((function(t){console.log(t)})).then((function(){}));break;case"MUUTA_TENTIN_NIMI":a[O].aihe=t.data.aihe,e.changeExam(t.data.tenttiID,a[O]).then((function(t){console.log("aihe muutettiin",t),s(!1)})).catch((function(t){console.log(t)})).then((function(){}));break;case"POISTA_VASTAUS":a[O].kysymykset[t.data.kysymysIndex].vastaukset.splice(t.data.vastausIndex,1),e.changeExam(o,a[O]).then((function(t){console.log("vastaus poistettiin",t),s(!1)})).catch((function(t){console.log(t)})).then((function(){}));break;case"LIS\xc4\xc4_VASTAUS":a[O].kysymykset[t.data.kysymysIndex].vastaukset.push({teksti:"Uusi vastaus, viel\xe4 tyhj\xe4",vastattu:!1}),e.changeExam(o,a[O]).then((function(t){console.log("aihe muutettiin",t),s(!1)})).catch((function(t){console.log(t)})).then((function(){}));break;case"LIS\xc4\xc4_KYSYMYS":a[O].kysymykset.push({tapaus:"Uusi kysymys, viel\xe4 tyhj\xe4",vastaukset:[]}),e.changeExam(o,a[O]).then((function(t){console.log("aihe muutettiin",t),s(!1)})).catch((function(t){console.log(t)})).then((function(){}));break;case"POISTA_KYSYMYS":a[O].kysymykset.splice(t.data.kysymysIndex,1),e.changeExam(o,a[O]).then((function(t){console.log("aihe muutettiin",t),s(!1)})).catch((function(t){console.log(t)})).then((function(){}));break;case"KYSYMYKSEN_TAPAUS_MUUTTUI":a[O].kysymykset[t.data.kysymysIndex].tapaus=t.data.tapaus,e.changeExam(o,a[O]).then((function(t){console.log("aihe muutettiin",t),s(!1)})).catch((function(t){console.log(t)})).then((function(){}));break;case"VASTAUKSEN_TEKSTI_MUUTTUI":a[O].kysymykset[t.data.kysymysIndex].vastaukset[t.data.vastausIndex].teksti=t.data.teksti,e.changeExam(o,a[O]).then((function(t){console.log("aihe muutettiin",t),s(!1)})).catch((function(t){console.log(t)})).then((function(){}));break;case"VASTAUKSEN_TILA_MUUTTUI":a[O].kysymykset[t.data.kysymysIndex].vastaukset[t.data.vastausIndex].vastattu=!a[O].kysymykset[t.data.kysymysIndex].vastaukset[t.data.vastausIndex].vastattu,e.changeExam(o,a[O]).then((function(t){console.log("aihe muutettiin",t),s(!1)})).catch((function(t){console.log(t)})).then((function(){}));break;default:throw new Error("Nyt on jokin vialla vastauksessa")}};return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{style:{fontWeight:"bold"},children:["id: ",v.id," index: ",O]}),Object(l.jsx)("input",{type:"text",className:S,style:{fontWeight:"bold"},size:"30",onChange:function(t){return h(Object(b.a)(Object(b.a)({},v),{},{aihe:t.target.value}))},onBlur:function(t){return g({type:"MUUTA_TENTIN_NIMI",data:{tenttiID:o,aihe:t.target.value}})},value:v.aihe,readOnly:!j}),j&&Object(l.jsx)("span",{children:Object(l.jsx)("button",{onClick:function(){return g({type:"POISTA_TENTTI",data:{tenttiID:o}})},children:"Poista tentti"})}),v.kysymykset.map((function(t,e){return Object(l.jsxs)("div",{style:{fontWeight:"bold"},children:[Object(l.jsx)("br",{}),Object(l.jsx)(x,{tenttiValinta:a,setTentti:h,tenttiID:o,kysymys:t,kysymysIndex:e,dispatch:g,adminMode:j})]},e)})),j&&Object(l.jsx)("span",{children:Object(l.jsx)("button",{onClick:function(){return g({type:"LIS\xc4\xc4_KYSYMYS"})},children:"Lis\xe4\xe4 kysymys"})})]})},O=function(t){var e=t.login,a=Object(n.useState)(""),s=Object(u.a)(a,2),i=s[0],c=s[1],r=Object(n.useState)(""),o=Object(u.a)(r,2),d=o[0],j=o[1];return Object(l.jsxs)("form",{onSubmit:function(t){e(t,{email:i,password:d}),c(""),j("")},children:[Object(l.jsx)("label",{name:"sposti",children:"S\xe4hk\xf6posti: "}),Object(l.jsx)("input",{onChange:function(t){return c(t.target.value)},type:"text",name:"sposti",value:i}),Object(l.jsx)("label",{name:"salasana",children:"Salasana: "}),Object(l.jsx)("input",{onChange:function(t){return j(t.target.value)},type:"text",name:"salasana",value:d}),Object(l.jsx)("input",{type:"submit",value:"Kirjaudu"})]})},m=function(t){var e=t.register,a=Object(n.useState)(""),s=Object(u.a)(a,2),i=s[0],c=s[1],r=Object(n.useState)(""),o=Object(u.a)(r,2),d=o[0],j=o[1];return Object(l.jsxs)("form",{onSubmit:function(t){e(t,i,d),c(""),j("")},children:[Object(l.jsx)("label",{name:"email",children:"S\xe4hk\xf6posti: "}),Object(l.jsx)("input",{onChange:function(t){return c(t.target.value)},type:"text",name:"salasana",value:i,required:!0}),Object(l.jsx)("label",{name:"salasana",children:"Salasana: "}),Object(l.jsx)("input",{onChange:function(t){return j(t.target.value)},minLength:"4",type:"text",name:"salasana",value:d,required:!0}),Object(l.jsx)("input",{type:"submit",value:"Rekister\xf6idy"})]})},S=a(12),g=a(3),I=a.n(g),T=a(5),A=a(6),U=a.n(A),E="https://localhost:3001/tentit",M=function(){var t=Object(T.a)(I.a.mark((function t(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.post("https://localhost:3001/login",e);case 3:return a=t.sent,t.abrupt("return",a);case 7:t.prev=7,t.t0=t.catch(0),console.log("dataService-login: "+t.t0),console.log(e);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(T.a)(I.a.mark((function t(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.post("https://localhost:3001/register",e);case 3:return a=t.sent,t.abrupt("return",a);case 7:t.prev=7,t.t0=t.catch(0),console.log("dataService-addUser: "+t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(T.a)(I.a.mark((function t(e,a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.get("".concat("https://localhost:3001/users","/").concat(e),{headers:{Authorization:"Bearer ".concat(a)}});case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.log("dataService-getUser1: "+t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}(),_=function(){var t=Object(T.a)(I.a.mark((function t(){var e;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.get(E);case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.log("dataService-getExams: "+t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(T.a)(I.a.mark((function t(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.delete("".concat(E,"/").concat(e));case 3:return a=t.sent,t.abrupt("return",a.data);case 7:t.prev=7,t.t0=t.catch(0),console.log("dataService-removeExam: "+t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=Object(T.a)(I.a.mark((function t(e){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.post(E,e);case 3:return a=t.sent,t.abrupt("return",a.data);case 7:t.prev=7,t.t0=t.catch(0),console.log("dataService-addExam: "+t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=Object(T.a)(I.a.mark((function t(e,a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.put("".concat(E,"/").concat(e),a);case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.log("dataService-changeExam: "+t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}(),L={login:M,addUser:N,getUser1:C,getExams:_,removeExam:w,addExam:Y,changeExam:K};var P=function(){var t=Object(n.useState)(!1),e=Object(u.a)(t,2),a=e[0],s=e[1],i=Object(n.useState)(),c=Object(u.a)(i,2),r=c[0],o=c[1],d=Object(n.useState)(),j=Object(u.a)(d,2),k=j[0],y=j[1],v=Object(n.useState)(),h=Object(u.a)(v,2),b=h[0],f=h[1],x=Object(n.useState)(!1),g=Object(u.a)(x,2),I=g[0],T=g[1],A=Object(n.useState)(0),U=Object(u.a)(A,2),E=U[0],M=U[1],N=Object(n.useState)(!1),C=Object(u.a)(N,2),_=C[0],w=C[1],Y=Object(n.useState)(!1),K=Object(u.a)(Y,2),P=K[0],V=K[1],D=S,B=Object(n.useState)(null),J=Object(u.a)(B,2),F=J[0],H=J[1],R=Object(n.useState)(null),W=Object(u.a)(R,2),z=W[0],G=W[1],q=Object(n.useState)(null),Q=Object(u.a)(q,2),X=Q[0],Z=Q[1],$=Object(n.useState)(""),tt=Object(u.a)($,2),et=tt[0],at=tt[1];Object(n.useEffect)((function(){if(""!==et){var t=setTimeout((function(){at("")}),2e3);return function(){return clearTimeout(t)}}}),[et]),Object(n.useEffect)((function(){a||L.getExams().then((function(t){console.log("promise fulfilled",t),Object.keys(t).length?o(t):(at("tietokanta palautti tyhj\xe4\xe4"),f()),s(!0)})).catch((function(t){console.log(t)})).then((function(){}))}),[a]),Object(n.useEffect)((function(){!function(){var t=window.localStorage.getItem("loggedUser");if(t){var e=JSON.parse(t);G(e.data.accessToken),Z(e.data.user.id)}}(),null!==z&&L.getUser1(X,z).then((function(t){console.log(t),H(t)}))}),[X,z]);var nt=function(t){var e={aihe:"Uusi Aihe",kysymykset:[]};void 0!==t&&(e=t,E===S.length-1?M(0):M(E+1)),L.addExam(e).then((function(t){console.log("aihe lis\xe4ttiin",t),s(!1)})).catch((function(t){console.log(t)})).then((function(){}))};return""!==et?Object(l.jsxs)(l.Fragment,{children:[" ",Object(l.jsx)("p",{children:et})]}):Object(l.jsx)("div",{children:!0===a&&Object(l.jsxs)("div",{children:[r.map((function(t,e){return Object(l.jsxs)("button",{onClick:function(){y(e),f(t.id)},children:[t.aihe," "]},e)})),"\xa0\xa0","Editointi ",Object(l.jsx)("span",{style:{fontWeight:"bold"},children:I?" ON":" OFF"}),"\xa0\xa0",null===F&&Object(l.jsxs)("span",{children:[Object(l.jsx)("button",{onClick:function(){w(!_),V(!1)},children:"Rekister\xf6idy"}),Object(l.jsx)("button",{onClick:function(){V(!P),w(!1)},children:"Kirjaudu"})]}),null!==F&&Object(l.jsx)("span",{children:Object(l.jsx)("button",{onClick:function(){localStorage.removeItem("loggedUser"),T(!1),window.location.href="/"},children:"Kirjaudu ulos"})}),"\xa0\xa0",Object(l.jsxs)("span",{style:{backgroundColor:"lightyellow"},children:["kirjautunut: ",Object(l.jsx)("span",{style:{fontWeight:"bold"},children:function(){try{return F.email}catch(t){return"-not logged-"}}()})]}),Object(l.jsx)("br",{}),_&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(m,{register:function(t,e,a){t.preventDefault();var n={email:e,password:a};L.addUser(n).then((function(t){at("Rekister\xf6inti onnistui")})).catch((function(){at("Rekister\xf6inti virheellinen")}))}})}),P&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(O,{login:function(t,e){t.preventDefault(),L.login(e).then((function(t){G(t.accessToken),console.log(t),window.localStorage.setItem("loggedUser",JSON.stringify(t)),w(!1),V(!1),T(!0)})).catch((function(){at("Tarkista k\xe4ytt\xe4j\xe4tunnus ja salasana")}))}})}),void 0!==b&&Object(l.jsxs)("button",{onClick:function(){return t=b,void L.removeExam(t).then((function(t){console.log("aihe poistettiin",t),s(!1),f(),y()})).catch((function(t){console.log(t)})).then((function(){}));var t},children:["Poista ",function(){try{return r[k].aihe}catch(t){return"-ei valittu-"}}()," (DELETE)"]}),Object(l.jsx)("button",{onClick:function(){return nt()},children:"Lis\xe4\xe4 Aihe (POST)"}),Object(l.jsx)("button",{onClick:function(){return nt(D[E])},children:"Lis\xe4\xe4 Tentti (POST FROM JSON)"}),Object(l.jsx)("br",{}),void 0!==k&&Object(l.jsx)(p,{dataService:L,tenttiValinta:r[k],setDataNoudettu:s,setValittuID:f,setValittuIndex:y,tenttiID:b,tenttiIndex:k,tentit:r,adminMode:I})]})})},V=function(){function t(){console.log(document.getElementById("email")),console.log(document.getElementById("name")),console.log(document.getElementById("age"));[{id:"email",help:"Your e-mail address"},{id:"name",help:"Your full name"},{id:"age",help:"Your age (you must be over 16)"}].forEach((function(t){return document.getElementById(t.id).onfocus=function(){var e;e=t.help,document.getElementById("help").innerHTML=e}}))}return Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{id:"help",children:"T\xe4ss\xe4 n\xe4kyy aputeksti"}),Object(l.jsx)("button",{onClick:function(){return t()},children:" Alusta "}),Object(l.jsxs)("p",{children:["E-mail: ",Object(l.jsx)("input",{type:"text",id:"email",name:"email"})]}),Object(l.jsxs)("p",{children:["Name: ",Object(l.jsx)("input",{type:"text",id:"name",name:"name"})]}),Object(l.jsxs)("p",{children:["Age: ",Object(l.jsx)("input",{type:"text",id:"age",name:"age"})]})]})};var D=function(){var t=Object(n.useState)("TenttiSovellus"),e=Object(u.a)(t,2),a=e[0],s=e[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)("select",{onChange:function(t){return s(t.target.value)},children:Object(l.jsxs)("optgroup",{label:"Sovellus",children:[Object(l.jsx)("option",{value:"Default",children:"TenttiSovellus"}),Object(l.jsx)("option",{value:"ListaSiirto",children:"ListaSiirto 1.4. asti"}),Object(l.jsx)("option",{value:"Tentti",children:"Tentti"}),Object(l.jsx)("option",{value:"TenttiSovellus",children:"TenttiSovellus"}),Object(l.jsx)("option",{value:"Tehtava43",children:"Tehtava43"})]})}),function(){switch(a){case"ListaSiirto":return Object(l.jsx)(d,{});case"Tentti":return Object(l.jsx)(h,{});case"TenttiSovellus":return Object(l.jsx)(P,{});case"Tehtava43":return Object(l.jsx)(V,{});default:return Object(l.jsx)("h1",{className:"QuestionCardView",children:"Valitse haluamasi teht\xe4v\xe4"})}}()]})},B=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,i=e.getLCP,c=e.getTTFB;a(t),n(t),s(t),i(t),c(t)}))};c.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(D,{})}),document.getElementById("root")),B()}},[[57,1,2]]]);
//# sourceMappingURL=main.8cefcc32.chunk.js.map